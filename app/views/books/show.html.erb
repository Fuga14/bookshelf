<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="h3 mb-0">
    <i class="bi bi-book"></i> <%= @book.title %>
  </h1>
  <div class="d-flex gap-2">
    <%= link_to books_path, class: "btn btn-outline-secondary" do %>
      <i class="bi bi-arrow-left"></i> Back to List
    <% end %>
    <%= link_to edit_book_path(@book), class: "btn btn-warning" do %>
      <i class="bi bi-pencil"></i> Edit
    <% end %>
    <%= link_to book_path(@book), 
        data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this book?" }, 
        class: "btn btn-danger" do %>
      <i class="bi bi-trash"></i> Delete
    <% end %>
  </div>
</div>

<div class="card shadow-sm">
  <div class="card-body">
    <dl class="row">
      <dt class="col-sm-3">Title:</dt>
      <dd class="col-sm-9"><%= @book.title %></dd>

      <dt class="col-sm-3">Author:</dt>
      <dd class="col-sm-9"><%= @book.author&.name || "N/A" %></dd>

      <dt class="col-sm-3">Year:</dt>
      <dd class="col-sm-9"><%= @book.year %></dd>

      <dt class="col-sm-3">Description:</dt>
      <dd class="col-sm-9">
        <% if @book.description.present? %>
          <%= simple_format(@book.description) %>
        <% else %>
          <span class="text-muted">No description provided</span>
        <% end %>
      </dd>

      <% if @book.cover.present? %>
        <dt class="col-sm-3">Cover:</dt>
        <dd class="col-sm-9">
          <% cover_url = @book.cover_url(:medium) || @book.cover_url %>
          <% if cover_url %>
            <%= image_tag cover_url.to_s, alt: "Book cover", class: "img-fluid rounded shadow-sm", style: "max-width: 400px;" %>
          <% end %>
        </dd>
      <% end %>
    </dl>
  </div>
</div>
